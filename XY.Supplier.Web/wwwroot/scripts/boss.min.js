"use strict";define(["jquery","xy","hoverDelay"],function(n,t){var i=38,u,f=10,c=function(t){var i,r;if(t==null||t.length==0)return!1;i=t.find("input:checkbox");i.on("click",function(){if(n(this).parent().is("th")){var t=this.checked;i.not(this).prop("checked",t);i.not(this).each(function(){var i=n(this).parent().parent();t?i.hasClass("bg-primary")||i.addClass("bg-primary"):i.hasClass("bg-primary")&&i.removeClass("bg-primary")})}else n(this).is(":checked")?n(this).parent().parent().addClass("bg-primary"):n(this).parent().parent().removeClass("bg-primary")});r=t.find("tbody:first");r.find("tr").each(function(){var t=n(this);t.dblclick(function(){var n=t.find("input:checkbox").first();n.length>0&&(n.is(":checked")?(n.prop("checked",!1),t.removeClass("bg-primary")):(n.prop("checked",!0),t.addClass("bg-primary")))})})},l=function(t){if(t==null||t.length==0)return null;var i=[];return t.find("input:checked[type=checkbox]").each(function(){n(this).attr("id")!="SelectAll"&&i.push(n(this).val())}),i},a=function(){var e=t.istop()?n("#boss_tabs"):n("#boss_tabs",window.top.document),l=e.find("#boss_tabs_box"),a=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),c;e.find("#boss_tabs_prev,#boss_tabs_next").hover(function(){n(this).css("background-color","#f6f6f6")},function(){n(this).css("background-color","#ffffff")});e.find("#boss_tabs_prev").mousedown(function(){u=setInterval(function(){var u=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),r=parseFloat(u.css("left"));r<i&&u.css("left",r+(i-r>=f?f:i-r)+"px")},100)}).mouseup(function(){clearInterval(u)});e.find("#boss_tabs_next").mousedown(function(){u=setInterval(function(){var r=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),o=n("#boss_tabs_next").position().left-i,s=parseFloat(r.css("left")),u=r.width()+s,e=o+i;r.width()>o&&u>e&&r.css("left",s-(u-e>=f?f:u-e)+"px")},100)}).mouseup(function(){clearInterval(u)});c=e.find("#boss_tabs_more");c.hoverDelay({hoverDuring:500,hoverEvent:function(){n(this).children().eq(0).css("background-color","#f6f6f6");n(this).children().eq(1).removeClass("hide")},outDuring:100,outEvent:function(){n(this).children().eq(0).css("background-color","#ffffff");n(this).children().eq(1).addClass("hide")}});l.children().first().click(function(){r(n(this).attr("id"))});c.children("div:last").children().eq(0).click(function(){o()});c.children("div:last").children().eq(1).click(function(){s()});c.children("div:last").children().eq(2).click(function(){h()})},v=function(u,f,o){var s=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),h=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),k=s.find("#"+u),c,b,l,a,y,p,v,w;if(k.length>0)r(u);else{s.children(".boss_tab_curr:first").removeClass("boss_tab_curr").addClass("boss_tab_norm").hover(function(){n(this).removeClass("boss_tab_norm").addClass("boss_tab_curr")},function(){n(this).removeClass("boss_tab_curr").addClass("boss_tab_norm")});c=n("<div class='boss_tab boss_tab_curr' id='"+u+"'><\/div>");c.click(function(){r(u)});b=n("<span>"+f+" <\/span>");l=n("<i class='fas fa-times'><\/i>");l.click(function(){e(u)});l.hover(function(){n(this).addClass("active_color")},function(){n(this).removeClass("active_color")});c.append(b);c.append(l);s.append(c);a=0;s.children().each(function(){a+=n(this).outerWidth(!0)});y=n("#boss_tabs_next").position().left-i;a>y&&s.animate({left:y+i-a+"px"},500);h.children(".boss_iframe_active:first").removeClass("boss_iframe_active").addClass("boss_iframe_sleep");p=30;v=h.prev();v.removeClass("hide").css({left:(h.width()-p)/2+"px",top:(h.height()-p)/2+"px"});w=n("<iframe id='iframe_"+u+"' src='"+o+"' class='boss_iframe_active'><\/iframe>");h.append(w);w.on("load",function(){v.hasClass("hide")||v.addClass("hide")})}},r=function(r){var f=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),c=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),o=f.children(".boss_tab_curr").not("#"+r).first(),e=f.children("#"+r),u,s,h;e.length>0&&(o.length>0&&(o.removeClass("boss_tab_curr").addClass("boss_tab_norm").hover(function(){n(this).removeClass("boss_tab_norm").addClass("boss_tab_curr")},function(){n(this).removeClass("boss_tab_curr").addClass("boss_tab_norm")}),c.children("#iframe_"+o.attr("id")).removeClass("boss_iframe_active").addClass("boss_iframe_sleep")),e.removeClass("boss_tab_norm").addClass("boss_tab_curr").unbind("mouseenter mouseleave"),u=0,e.prevAll().each(function(){u+=n(this).outerWidth(!0)}),s=f.position().left,h=n("#boss_tabs_next").position().left,u+s<i&&f.animate({left:i-u+"px"},500),u+e.outerWidth(!0)+s>h&&f.animate({left:i-u+(h-i)-e.outerWidth(!0)+"px"},500),c.find("#iframe_"+r).removeClass("boss_iframe_sleep").addClass("boss_iframe_active"))},y=function(i){var r=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),u=r.prev(),f=i?r.children("#iframe_"+i):r.children(".boss_iframe_active:first"),e=30,o;u.removeClass("hide").css({left:(r.width()-e)/2+"px",top:(r.height()-e)/2+"px"});o=f.attr("src");f.attr("src",o);f.on("load",function(){u.hasClass("hide")||u.addClass("hide")})},e=function(i){var e=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),o=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),u=e.children("#"+i),f;u.index()>0&&(f=u.prev(),u.remove(),o.find("#iframe_"+u.attr("id")).remove(),f.length>0&&r(f.attr("id")))},o=function(){var r=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),i=r.children(".boss_tab_curr:first");i.index()>0&&e(i.attr("id"))},s=function(){var r=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),u=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document);r.children().length>1&&r.children().each(function(){var t=n(this),i=u.find("#iframe_"+t.attr("id"));t.index()>0&&(t.hasClass("boss_tab_curr")||(t.remove(),i.remove()))});r.animate({left:i+"px"},500)},h=function(){var r=t.istop()?n("#boss_tabs_box"):n("#boss_tabs_box",window.top.document),u=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document);r.children().length>1&&r.children().each(function(){var t=n(this),i=u.find("#iframe_"+t.attr("id"));t.index()==0?(t.hasClass("boss_tab_curr")||t.removeClass("boss_tab_norm").addClass("boss_tab_curr"),i.hasClass("boss_iframe_active")||i.removeClass("boss_iframe_sleep").addClass("boss_iframe_active")):(t.remove(),i.remove())});r.animate({left:i+"px"},500)},p=function(i){var r=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),u=r.prev(),f=r.children(".boss_iframe_active:first"),e=30;u.removeClass("hide").css({left:(r.width()-e)/2+"px",top:(r.height()-e)/2+"px"});f.attr("src",i);f.on("load",function(){u.hasClass("hide")||u.addClass("hide")})},w=function(i){var r=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),u=r.prev(),e=r.children(".boss_iframe_active:first"),f=30;u.removeClass("hide").css({left:(r.width()-f)/2+"px",top:(r.height()-f)/2+"px"});i.submit();e.on("load",function(){u.hasClass("hide")||u.addClass("hide")})},b=function(i,r){var u=t.istop()?n("#boss_iframe"):n("#boss_iframe",window.top.document),f=u.prev(),o=u.children(".boss_iframe_active:first"),e=30;f.removeClass("hide").css({left:(u.width()-e)/2+"px",top:(u.height()-e)/2+"px"});t.post(i,r);o.on("load",function(){f.hasClass("hide")||f.addClass("hide")})};return{configPrimaryColor:"#007db8",configActiveColor:"#ffb600",tableInit:c,tableSelectValue:l,tabInit:a,tabAdd:v,tabSelect:r,tabRefresh:y,tabClose:e,tabCloseCurrent:o,tabCloseOther:s,tabCloseAll:h,load:p,submit:w,post:b}});